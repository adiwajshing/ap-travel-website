# Staysia (E-Travel Website)

## Documentation:
 - https://staysia.herokuapp.com/docs
 - http://127.0.0.1:5000/docs

# E-Commerce Website (AP2020) (Latest Submission)

## Project Details

 - [Deployed Application](https://staysia.herokuapp.com/) : Serverless deployment to Heroku (See Github Actions)
 - [REST API Docs](https://staysia.herokuapp.com/docs) : Backend is set up as a REST API. (Documented by team on Swagger)

## Stack

 - Backend: [Python-Flask](https://flask.palletsprojects.com/)
 - Frontend: [Flutter](https://flutter.dev/)
 - Databse: [Firebase Cloud Firestore](https://firebase.google.com/)
 - Deployment: [Heroku](https://www.heroku.com/)

## Local Run
**Note: only possible for developers who have `fbAdminConfig.json` and `env.sample` (included in zip)**

 1) Make `.env.sample` a `.env` file
 2) `cd` into directory and install dependencies using `pip3 install -r requirements.txt`
 3) Run `application.py`. Confirm that it serves on `http://127.0.0.1:5000/`. You can operate the backend separately at `http://127.0.0.1:5000/docs`
 4) `cd` into `frontend` and follow instructions on `https://flutter.dev/docs/get-started/web`.**(flutter should be installed)**
 5) Run `flutter run -d chrome --web-port=3000`
 6) Flutter will open up Chrome with application.

## Look out for

 - Fuzzy Search, Normal Search, Advanced Search with User Preference Filtering (check [Search Routes](https://github.com/adiwajshing/ap-travel-website/blob/a56549ecc36b470bdf30cd72e7009ba716776f8b/application.py#L271-L408) OR `application.py#L271-L408`)
 - Recommendation Engine (check [Scoring System](https://github.com/adiwajshing/ap-travel-website/blob/a56549ecc36b470bdf30cd72e7009ba716776f8b/reccomendations/data_rec.py#L278-L343) and [Graphic](https://github.com/adiwajshing/ap-travel-website/blob/main/reccomendations/reccomendation_engine.pdf) OR `reccomendations/data_rec.py#L278-L343` and `reccomendations/reccomendation_engine.pdf`)
 - User Preference Storing (check [Calculating Avg Hotel](https://github.com/adiwajshing/ap-travel-website/blob/a56549ecc36b470bdf30cd72e7009ba716776f8b/reccomendations/data_rec.py#L345-L403) and [User Preference Scoring](https://github.com/adiwajshing/ap-travel-website/blob/a56549ecc36b470bdf30cd72e7009ba716776f8b/reccomendations/data_rec.py#L238-L276) OR `reccomendations/data_rec.py#L345-L403` and `reccomendations/data_rec.py#L238-L276`)
 - Autogenerated Emails (check [Email Code](https://github.com/adiwajshing/ap-travel-website/blob/a56549ecc36b470bdf30cd72e7009ba716776f8b/application.py#L757-L787) OR `application.py#L757-L787`)
 - PDF Printouts (check [Creating PDF](https://github.com/adiwajshing/ap-travel-website/blob/a56549ecc36b470bdf30cd72e7009ba716776f8b/application.py#L789-L816) and [PDF Template](https://github.com/adiwajshing/ap-travel-website/blob/main/template.json) OR `application.py#L789-L816` and `template.json`)
 - "Others Also Stayed At" Feature (check [Booking Network](https://github.com/adiwajshing/ap-travel-website/blob/a56549ecc36b470bdf30cd72e7009ba716776f8b/application.py#L490-L529) OR `application.py#L490-L529`)
 - Bearer Token Auth (check [Auth Service](https://github.com/adiwajshing/ap-travel-website/blob/a56549ecc36b470bdf30cd72e7009ba716776f8b/application.py#L97-L131) OR `application.py#L97-L131`)

 - Cache-Control (for static files)
 - Single Page Frontend Application

## Citation 

 - [Hotel Data API](https://rapidapi.com/apidojo/api/Hotels) : Used only for scraping data. (check [Python File](https://github.com/adiwajshing/ap-travel-website/blob/main/backup/data_scraping.py) OR `backup/data_scraping.py`)
 - [Swagger UI Editor](https://editor.swagger.io) : API documenting tool.
 - [Flutter App](https://blog.codemagic.io/flutter-web-getting-started-with-responsive-design/)
 - Other one line code citations done in `application.py` (search for "citations")